{
  "log": {
    "_recordingName": "should handle tool calling",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.6"
    },
    "entries": [
      {
        "_id": "25c9787459728433a9173101fadb98f8",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 267,
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 182,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"contents\":[{\"role\":\"user\",\"parts\":[{\"text\":\"What is the weather in Berlin?\"}]}],\"generationConfig\":{},\"tools\":[{\"functionDeclarations\":[{\"name\":\"get_weather\",\"description\":\"Get weather\",\"parameters\":{\"type\":\"object\",\"properties\":{\"location\":{\"type\":\"string\"}}}}]}]}"
          },
          "queryString": [
            {
              "name": "key",
              "value": "AIzaSyCOVcEIDFX3y4Uw77jDFa-xFLAgNEMyogM"
            }
          ],
          "url": "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=[REDACTED]"
        },
        "response": {
          "bodySize": 781,
          "content": {
            "mimeType": "application/json; charset=UTF-8",
            "size": 781,
            "text": "{\n  \"candidates\": [\n    {\n      \"content\": {\n        \"parts\": [\n          {\n            \"functionCall\": {\n              \"name\": \"get_weather\",\n              \"args\": {\n                \"location\": \"Berlin\"\n              }\n            }\n          }\n        ],\n        \"role\": \"model\"\n      },\n      \"finishReason\": \"STOP\",\n      \"avgLogprobs\": 3.0854716897010804e-07\n    }\n  ],\n  \"usageMetadata\": {\n    \"promptTokenCount\": 15,\n    \"candidatesTokenCount\": 5,\n    \"totalTokenCount\": 20,\n    \"promptTokensDetails\": [\n      {\n        \"modality\": \"TEXT\",\n        \"tokenCount\": 15\n      }\n    ],\n    \"candidatesTokensDetails\": [\n      {\n        \"modality\": \"TEXT\",\n        \"tokenCount\": 5\n      }\n    ]\n  },\n  \"modelVersion\": \"gemini-2.0-flash\",\n  \"responseId\": \"BhxVadCjAe-cg8UP0uqO4AY\"\n}\n"
          },
          "cookies": [],
          "headers": [
            {
              "name": "alt-svc",
              "value": "h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000"
            },
            {
              "name": "content-encoding",
              "value": "gzip"
            },
            {
              "name": "content-type",
              "value": "application/json; charset=UTF-8"
            },
            {
              "name": "date",
              "value": "Wed, 31 Dec 2025 12:50:14 GMT"
            },
            {
              "name": "server",
              "value": "scaffolding on HTTPServer2"
            },
            {
              "name": "server-timing",
              "value": "gfet4t7; dur=883"
            },
            {
              "name": "transfer-encoding",
              "value": "chunked"
            },
            {
              "name": "vary",
              "value": "Origin, X-Origin, Referer"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            },
            {
              "name": "x-frame-options",
              "value": "SAMEORIGIN"
            },
            {
              "name": "x-xss-protection",
              "value": "0"
            }
          ],
          "headersSize": 380,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2025-12-31T12:50:13.755Z",
        "time": 912,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 912
        }
      },
      {
        "_id": "25c9787459728433a9173101fadb98f8",
        "_order": 1,
        "cache": {},
        "request": {
          "bodySize": 527,
          "cookies": [],
          "headers": [
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 182,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"contents\":[{\"role\":\"user\",\"parts\":[{\"text\":\"What is the weather in Berlin?\"}]},{\"role\":\"model\",\"parts\":[{\"functionCall\":{\"name\":\"get_weather\",\"args\":{\"location\":\"Berlin\"}}}]},{\"role\":\"user\",\"parts\":[{\"functionResponse\":{\"name\":\"get_weather\",\"response\":{\"result\":\"{\\\"location\\\":\\\"Berlin\\\",\\\"temperature\\\":18,\\\"condition\\\":\\\"Cloudy\\\"}\"}}}]}],\"generationConfig\":{},\"tools\":[{\"functionDeclarations\":[{\"name\":\"get_weather\",\"description\":\"Get weather\",\"parameters\":{\"type\":\"object\",\"properties\":{\"location\":{\"type\":\"string\"}}}}]}]}"
          },
          "queryString": [
            {
              "name": "key",
              "value": "AIzaSyCOVcEIDFX3y4Uw77jDFa-xFLAgNEMyogM"
            }
          ],
          "url": "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=[REDACTED]"
        },
        "response": {
          "bodySize": 713,
          "content": {
            "mimeType": "application/json; charset=UTF-8",
            "size": 713,
            "text": "{\n  \"candidates\": [\n    {\n      \"content\": {\n        \"parts\": [\n          {\n            \"text\": \"The weather in Berlin is Cloudy with a temperature of 18 degrees.\\n\"\n          }\n        ],\n        \"role\": \"model\"\n      },\n      \"finishReason\": \"STOP\",\n      \"avgLogprobs\": -0.08451235294342041\n    }\n  ],\n  \"usageMetadata\": {\n    \"promptTokenCount\": 39,\n    \"candidatesTokenCount\": 16,\n    \"totalTokenCount\": 55,\n    \"promptTokensDetails\": [\n      {\n        \"modality\": \"TEXT\",\n        \"tokenCount\": 39\n      }\n    ],\n    \"candidatesTokensDetails\": [\n      {\n        \"modality\": \"TEXT\",\n        \"tokenCount\": 16\n      }\n    ]\n  },\n  \"modelVersion\": \"gemini-2.0-flash\",\n  \"responseId\": \"BhxVaaCyOdHZjuMPvbiY6QY\"\n}\n"
          },
          "cookies": [],
          "headers": [
            {
              "name": "alt-svc",
              "value": "h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000"
            },
            {
              "name": "content-encoding",
              "value": "gzip"
            },
            {
              "name": "content-type",
              "value": "application/json; charset=UTF-8"
            },
            {
              "name": "date",
              "value": "Wed, 31 Dec 2025 12:50:15 GMT"
            },
            {
              "name": "server",
              "value": "scaffolding on HTTPServer2"
            },
            {
              "name": "server-timing",
              "value": "gfet4t7; dur=910"
            },
            {
              "name": "transfer-encoding",
              "value": "chunked"
            },
            {
              "name": "vary",
              "value": "Origin, X-Origin, Referer"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            },
            {
              "name": "x-frame-options",
              "value": "SAMEORIGIN"
            },
            {
              "name": "x-xss-protection",
              "value": "0"
            }
          ],
          "headersSize": 380,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2025-12-31T12:50:14.670Z",
        "time": 1013,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 1013
        }
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
