{
  "log": {
    "_recordingName": "should handle tool calling",
    "creator": {
      "comment": "persister:fs",
      "name": "Polly.JS",
      "version": "6.0.6"
    },
    "entries": [
      {
        "_id": "f8432411c4f0c4cbe0966332405a360e",
        "_order": 0,
        "cache": {},
        "request": {
          "bodySize": 287,
          "cookies": [],
          "headers": [
            {
              "name": "authorization",
              "value": "[REDACTED]"
            },
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 192,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"model\":\"openai/gpt-4o-mini\",\"messages\":[{\"role\":\"user\",\"content\":\"What is the weather in London?\"}],\"max_tokens\":4096,\"tools\":[{\"type\":\"function\",\"function\":{\"name\":\"get_weather\",\"description\":\"Get weather\",\"parameters\":{\"type\":\"object\",\"properties\":{\"location\":{\"type\":\"string\"}}}}}]}"
          },
          "queryString": [],
          "url": "https://openrouter.ai/api/v1/chat/completions"
        },
        "response": {
          "bodySize": 905,
          "content": {
            "mimeType": "application/json",
            "size": 905,
            "text": "\n         \n{\"id\":\"gen-1769256930-o3bDHELoXZvB8tT0bbMl\",\"provider\":\"OpenAI\",\"model\":\"openai/gpt-4o-mini\",\"object\":\"chat.completion\",\"created\":1769256930,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"type\":\"function\",\"index\":0,\"id\":\"call_SoZEp9ZGDHEHJoPcUbuDJ2Yk\",\"function\":{\"name\":\"get_weather\",\"arguments\":\"{\\\"location\\\":\\\"London\\\"}\"}}]}}],\"system_fingerprint\":\"fp_8bbc38b4db\",\"usage\":{\"prompt_tokens\":47,\"completion_tokens\":14,\"total_tokens\":61,\"cost\":0.00001545,\"is_byok\":false,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"cost_details\":{\"upstream_inference_cost\":0.00001545,\"upstream_inference_prompt_cost\":0.00000705,\"upstream_inference_completions_cost\":0.0000084},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0}}}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "access-control-allow-origin",
              "value": "*"
            },
            {
              "name": "cf-ray",
              "value": "9c2f74e73aa57fd1-MAA"
            },
            {
              "name": "connection",
              "value": "keep-alive"
            },
            {
              "name": "content-encoding",
              "value": "gzip"
            },
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "date",
              "value": "Sat, 24 Jan 2026 12:15:31 GMT"
            },
            {
              "name": "permissions-policy",
              "value": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")"
            },
            {
              "name": "referrer-policy",
              "value": "no-referrer, strict-origin-when-cross-origin"
            },
            {
              "name": "server",
              "value": "cloudflare"
            },
            {
              "name": "transfer-encoding",
              "value": "chunked"
            },
            {
              "name": "vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            }
          ],
          "headersSize": 523,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2026-01-24T12:15:30.081Z",
        "time": 1542,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 1542
        }
      },
      {
        "_id": "f8432411c4f0c4cbe0966332405a360e",
        "_order": 1,
        "cache": {},
        "request": {
          "bodySize": 727,
          "cookies": [],
          "headers": [
            {
              "name": "authorization",
              "value": "[REDACTED]"
            },
            {
              "name": "content-type",
              "value": "application/json"
            }
          ],
          "headersSize": 192,
          "httpVersion": "HTTP/1.1",
          "method": "POST",
          "postData": {
            "mimeType": "application/json",
            "params": [],
            "text": "{\"model\":\"openai/gpt-4o-mini\",\"messages\":[{\"role\":\"user\",\"content\":\"What is the weather in London?\"},{\"role\":\"assistant\",\"content\":null,\"tool_calls\":[{\"type\":\"function\",\"index\":0,\"id\":\"call_SoZEp9ZGDHEHJoPcUbuDJ2Yk\",\"function\":{\"name\":\"get_weather\",\"arguments\":\"{\\\"location\\\":\\\"London\\\"}\"}}],\"usage\":{\"input_tokens\":47,\"output_tokens\":14,\"total_tokens\":61,\"cached_tokens\":0,\"reasoning_tokens\":0}},{\"role\":\"tool\",\"tool_call_id\":\"call_SoZEp9ZGDHEHJoPcUbuDJ2Yk\",\"content\":\"{\\\"location\\\":\\\"London\\\",\\\"temperature\\\":22,\\\"condition\\\":\\\"Sunny\\\"}\"}],\"max_tokens\":4096,\"tools\":[{\"type\":\"function\",\"function\":{\"name\":\"get_weather\",\"description\":\"Get weather\",\"parameters\":{\"type\":\"object\",\"properties\":{\"location\":{\"type\":\"string\"}}}}}]}"
          },
          "queryString": [],
          "url": "https://openrouter.ai/api/v1/chat/completions"
        },
        "response": {
          "bodySize": 803,
          "content": {
            "mimeType": "application/json",
            "size": 803,
            "text": "\n         \n{\"id\":\"gen-1769256931-Yq3yyvj2HWNCeKYaeqhG\",\"provider\":\"OpenAI\",\"model\":\"openai/gpt-4o-mini\",\"object\":\"chat.completion\",\"created\":1769256931,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"stop\",\"native_finish_reason\":\"stop\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"The weather in London is currently sunny with a temperature of 22Â°C.\",\"refusal\":null,\"reasoning\":null}}],\"system_fingerprint\":\"fp_8bbc38b4db\",\"usage\":{\"prompt_tokens\":82,\"completion_tokens\":16,\"total_tokens\":98,\"cost\":0.0000219,\"is_byok\":false,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"cost_details\":{\"upstream_inference_cost\":0.0000219,\"upstream_inference_prompt_cost\":0.0000123,\"upstream_inference_completions_cost\":0.0000096},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0}}}"
          },
          "cookies": [],
          "headers": [
            {
              "name": "access-control-allow-origin",
              "value": "*"
            },
            {
              "name": "cf-ray",
              "value": "9c2f74ef89d37fd1-MAA"
            },
            {
              "name": "connection",
              "value": "keep-alive"
            },
            {
              "name": "content-encoding",
              "value": "gzip"
            },
            {
              "name": "content-type",
              "value": "application/json"
            },
            {
              "name": "date",
              "value": "Sat, 24 Jan 2026 12:15:32 GMT"
            },
            {
              "name": "permissions-policy",
              "value": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")"
            },
            {
              "name": "referrer-policy",
              "value": "no-referrer, strict-origin-when-cross-origin"
            },
            {
              "name": "server",
              "value": "cloudflare"
            },
            {
              "name": "transfer-encoding",
              "value": "chunked"
            },
            {
              "name": "vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            }
          ],
          "headersSize": 523,
          "httpVersion": "HTTP/1.1",
          "redirectURL": "",
          "status": 200,
          "statusText": "OK"
        },
        "startedDateTime": "2026-01-24T12:15:31.626Z",
        "time": 1014,
        "timings": {
          "blocked": -1,
          "connect": -1,
          "dns": -1,
          "receive": 0,
          "send": 0,
          "ssl": -1,
          "wait": 1014
        }
      }
    ],
    "pages": [],
    "version": "1.2"
  }
}
